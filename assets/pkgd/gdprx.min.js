function Gdprx(e){var c=this;this.cookieName="gdprx",this.gdprxValues={accepted:!1,cookiesAccepted:[],cookiesDenied:[]},this.init=function(){c.watchers(),c.getCookie(),c.appendModal(),c.gdprxValues.accepted||c.loadBar()},this.config={bar_text:"Questo sito web utilizza i cookie. Utilizziamo i cookie per personalizzare contenuti ed annunci, per fornire funzionalità dei social media e per analizzare il nostro traffico. Condividiamo inoltre informazioni sul modo in cui utilizza il nostro sito con i nostri partner che si occupano di analisi dei dati web, pubblicità e social media, i quali potrebbero combinarle con altre informazioni che ha fornito loro o che hanno raccolto dal suo utilizzo dei loro servizi. Acconsenta ai nostri cookie se continua ad utilizzare il nostro sito web.",cookie_groups:[{title:"Necessari",cookies:["phpsession","gdprx"],required:!0,default:!0,info:"Utilizzati per avere le corrette funzionalità del sito."},{title:"Statistica",cookies:["_ga","_gat","_gid","_gid#","collect"],required:!1,default:!0,info:"Utilizzati per le statistiche del sito in modalità anonima ed il miglioramento dell'esperienza utente."}],policies:[{title:"policy1",info:"Descrizione policy1",url:"Url policy1"},{title:"policy2",info:"Descrizione policy2",url:"Url policy2"}],labels:{panel_title:"Preferenze sulla privacy",cookies:"Cookies",used_cookies:"Cookie utilizzati",policies:"Informative",required:"Necessari",preferences:"Preferenze",accept:"Accetto",view:"Visualizza",save:"Salva"},ajax:{enable:!1,url:"",parameters:{}}},$.extend(!0,c.config,e),this.createSwitch=function(e){if(e.required)return'<div class="required-label">'+c.config.labels.required+"</div>";if(e.value)var i=1==value?"checked":"";else i=1==e.default?"checked":"";return'<label class="gdprx-switch"><input type="checkbox" class="gdprx-cookie-check" data-group="'+e.title+'" name="cookies-'+e.title+'" '+i+'><span class="gdpr-slider round"></span><span class="gdpr-switch-indicator-on">ON</span><span class="gdpr-switch-indicator-off">OFF</span></label>'},this.createPoliciesNav=function(e){return 0<e.length?'<li data-content="cont-policies" class="active">'+c.config.labels.policies+"</li>":void 0},this.createPoliciesTab=function(e){if(0<e.length){var o='<div class="content-tab active" id="cont-policies"><div class="policies-title">'+c.config.labels.policies+"</div>";return e.forEach(function(e,i){o+='<div class="cookie-panel"><div class="head">'+e.title+'<div class="switch"><div class="required-label">'+c.config.labels.required+'</div></div></div><div class="body"><div>'+e.info+'</div><div class="buttons"><a href="'+e.url+'" target="_blank" class="btn view">'+c.config.labels.view+"</a></div></div></div>"}),o+="</div>"}},this.createPoliciesLinks=function(e){if(0<e.length){var o="";return e.forEach(function(e,i){o+='<li><a href="'+e.url+'" target="_blank">'+e.title+"</a></li>"}),o}},this.createCookieNav=function(e){var o="";return e.forEach(function(e,i){i++,active=1==i&&c.config.policies.length<=0?"active":"",o+='<li data-content="cont-'+i+'" class="content-tab '+active+'">'+e.title+"</li>"}),o},this.createCookieTabs=function(e){var o="";return e.forEach(function(e,i){i++,active=1==i&&c.config.policies.length<=0?"active":"",o+='<div class="content-tab '+active+'" id="cont-'+i+'"><div class="cookie-title">'+e.title+'</div><div class="cookie-subtitle">'+e.info+'</div><div class="cookie-panel"><div class="head">'+c.config.labels.used_cookies+'<div class="switch">'+c.createSwitch(e)+'</div></div><div class="body">'+e.cookies.join(", ")+"</div></div></div>"}),o},this.bar='<div id="gdprx-bar" class="gdprx"><div class="content">'+c.config.bar_text+'</div><div class="buttons"><button class="preferences">'+c.config.labels.preferences+'</button><button class="accept">'+c.config.labels.accept+"</button></div></div>",this.modal='<div id="gdprx-modal" class="gdprx"><div class="modal-content"><div class="title">'+c.config.labels.panel_title+'<div class="close">X</div></div><div class="cookies"><div class="navs"><ul class="cookies-nav">'+c.createPoliciesNav(c.config.policies)+'<li class="list-title">'+c.config.labels.cookies+'</li><ul class="cookie-list">'+c.createCookieNav(c.config.cookie_groups)+'</ul></ul><ul class="policies">'+c.createPoliciesLinks(c.config.policies)+'</ul></div><div class="content">'+c.createPoliciesTab(c.config.policies)+c.createCookieTabs(c.config.cookie_groups)+'<div class="buttons"><button class="btn save">'+c.config.labels.save+"</button></div>",this.watchers=function(){$(document).on("click","#gdprx-bar button.accept",function(e){c.accept()}),$(document).on("click","#gdprx-bar button.preferences",function(e){c.openModal()}),$(document).on("click",".gdprx-modal-opener",function(e){c.openModal()}),$(document).on("click","#gdprx-modal .title .close",function(e){c.closeModal()}),$(document).on("click","#gdprx-modal .btn.save",function(e){c.savePreferences()}),$(document).on("click","#gdprx-modal .cookies-nav li[data-content]",function(e){var i=$(this),o=i.attr("data-content");$("#gdprx-modal .cookies-nav > li, #gdprx-modal .content-tab").removeClass("active"),i.addClass("active"),$("#"+o).addClass("active")})},this.appendModal=function(){$(c.modal).appendTo("body")},this.setCookie=function(){window.gdprxValues=c.gdprxValues;var e=btoa(JSON.stringify(c.gdprxValues));Cookies.set(c.cookieName,e,{expires:365})},this.getCookie=function(){null!=Cookies.get(c.cookieName)&&(c.gdprxValues=JSON.parse(atob(Cookies.get(c.cookieName)))),window.gdprxValues=c.gdprxValues},this.loadBar=function(){var e=$(c.bar);e.appendTo("body"),setTimeout(function(){e.addClass("active")},300)},this.closeBar=function(){$("#gdprx-bar").removeClass("active")},this.accept=function(){c.savePreferences()},this.openModal=function(){var e=$("#gdprx-modal");e.hasClass("active")||(e.addClass("visible"),setTimeout(function(){e.addClass("active")},100))},this.closeModal=function(){if($("#gdprx-modal").length){var e=$("#gdprx-modal");e.removeClass("active"),setTimeout(function(){e.removeClass("visible")},500)}},this.savePreferences=function(){c.gdprxValues.cookiesAccepted=[],c.gdprxValues.cookiesDenied=[],c.gdprxValues.accepted=!0,c.config.cookie_groups.forEach(function(e,i){e.required&&c.gdprxValues.cookiesAccepted.push(e.title)}),$("input.gdprx-cookie-check").each(function(e,i){var o=$(this),t=o.attr("data-group");o.is(":checked")?c.gdprxValues.cookiesAccepted.push(t):c.gdprxValues.cookiesDenied.push(t)}),c.config.ajax.enable&&c.ajax(),c.setCookie(),c.closeModal(),c.closeBar(),$(document).trigger("gdprxAccepted")},this.ajax=function(){var e=c.config.ajax.parameters;e.gdpr=c.gdprxValues,$.post(c.config.ajax.url,e)},this.init()}!function(e){var i=!1;if("function"==typeof define&&define.amd&&(define(e),i=!0),"object"==typeof exports&&(module.exports=e(),i=!0),!i){var o=window.Cookies,t=window.Cookies=e();t.noConflict=function(){return window.Cookies=o,t}}}(function(){function g(){for(var e=0,i={};e<arguments.length;e++){var o=arguments[e];for(var t in o)i[t]=o[t]}return i}return function e(f){function v(e,i,o){var t;if("undefined"!=typeof document){if(1<arguments.length){if("number"==typeof(o=g({path:"/"},v.defaults,o)).expires){var c=new Date;c.setMilliseconds(c.getMilliseconds()+864e5*o.expires),o.expires=c}o.expires=o.expires?o.expires.toUTCString():"";try{t=JSON.stringify(i),/^[\{\[]/.test(t)&&(i=t)}catch(e){}i=f.write?f.write(i,e):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var a="";for(var n in o)o[n]&&(a+="; "+n,!0!==o[n]&&(a+="="+o[n]));return document.cookie=e+"="+i+a}e||(t={});for(var s=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,r=0;r<s.length;r++){var d=s[r].split("="),u=d.slice(1).join("=");this.json||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var p=d[0].replace(l,decodeURIComponent);if(u=f.read?f.read(u,p):f(u,p)||u.replace(l,decodeURIComponent),this.json)try{u=JSON.parse(u)}catch(e){}if(e===p){t=u;break}e||(t[p]=u)}catch(e){}}return t}}return(v.set=v).get=function(e){return v.call(v,e)},v.getJSON=function(){return v.apply({json:!0},[].slice.call(arguments))},v.defaults={},v.remove=function(e,i){v(e,"",g(i,{expires:-1}))},v.withConverter=e,v}(function(){})});